# ALL of this stuff should be in an init block.
init:

    #==============================================================
    # BACKGROUNDS
    #==============================================================
    
    image bg black = Solid((0, 0, 0, 255))
    image bg white = Solid((255, 255, 255, 255))
    
    image bg lab = "images/placeholder/lab.jpg"
    image bg river = "images/placeholder/river.jpg"
    image bg nurg = "images/placeholder/nurg.png"

    image bg hospital_beds3 = "images/backgrounds/hospital_beds3.jpg"
    image bg bg1 = "images/backgrounds/bg1.png"
    image bg ashes = "images/backgrounds/tt2.png"

    image bg africa_cemetery = "images/backgrounds/Africa/africa_cemetery.jpg"
    image bg africa_death = "images/backgrounds/Africa/africa_death.jpg"
    image bg africa_village = "images/backgrounds/Africa/africa_village.jpg"
    image bg east_africa = "images/backgrounds/Africa/east_africa.jpg"
    image bg libereia_slums = "images/backgrounds/Africa/libereia_slums.jpg"
    image bg liberia_village = "images/backgrounds/Africa/liberia_village.jpg"
    image bg liberia_village2 = "images/backgrounds/Africa/liberia_village2.jpg"

    image bg ebola_bodybag1 = "images/backgrounds/General_Ebola/ebola_bodybag1.jpg"
    image bg ebola_bodybag2 = "images/backgrounds/General_Ebola/ebola_bodybag2.jpg"
    image bg ebola_funeral1 = "images/backgrounds/General_Ebola/ebola_funeral1.jpg"
    image bg ebola_funeral2 = "images/backgrounds/General_Ebola/ebola_funeral2.jpg"
    image bg ebola_funeral3 = "images/backgrounds/General_Ebola/ebola_funeral3.jpg"
    image bg ebola_funeral4 = "images/backgrounds/General_Ebola/ebola_funeral4.jpg"
    image bg ebola_hazmat1 = "images/backgrounds/General_Ebola/ebola_hazmat1.jpg"
    image bg ebola_hazmat2 = "images/backgrounds/General_Ebola/ebola_hazmat2.jpg"
    image bg ebola_hazmat3 = "images/backgrounds/General_Ebola/ebola_hazmat3.jpg"
    image bg ebola_hospital1 = "images/backgrounds/General_Ebola/ebola_hospital1.jpg"
    image bg ebola_isolation_room = "images/backgrounds/General_Ebola/ebola_isolation_room.jpg"

    image bg s01 = "images/backgrounds/shrines/shrine01.jpg"
    image bg s02 = "images/backgrounds/shrines/shrine02.jpg"
    image bg s03 = "images/backgrounds/shrines/shrine03.jpg"
    image bg s04 = "images/backgrounds/shrines/shrine04.jpg"
    image bg s05 = "images/backgrounds/shrines/shrine05.jpg"
    image bg s06 = "images/backgrounds/shrines/shrine06.jpg"
    image bg s07 = "images/backgrounds/shrines/shrine07.jpg"
    image bg s08 = "images/backgrounds/shrines/shrine08.jpg"
    image bg s09 = "images/backgrounds/shrines/shrine09.jpg"
    image bg s10 = "images/backgrounds/shrines/shrine10.jpg"
    image bg s11 = "images/backgrounds/shrines/shrine11.jpg"
    image bg s12 = "images/backgrounds/shrines/shrine12.jpg"
    image bg s13 = "images/backgrounds/shrines/shrine13.jpg"
    image bg s14 = "images/backgrounds/shrines/shrine14.jpg"
    image bg s15 = "images/backgrounds/shrines/shrine15.jpg"
    image bg s16 = "images/backgrounds/shrines/shrine16.jpg"
    image bg s17 = "images/backgrounds/shrines/shrine17.jpg"
    image bg s18 = "images/backgrounds/shrines/shrine18.jpg"
    image bg s19 = "images/backgrounds/shrines/shrine19.jpg"
    image bg s20 = "images/backgrounds/shrines/shrine20.jpg"
    image bg s21 = "images/backgrounds/shrines/shrine21.jpg"
    image bg s22 = "images/backgrounds/shrines/shrine22.jpg"
    image bg s23 = "images/backgrounds/shrines/shrine23.jpg"
    image bg s24 = "images/backgrounds/shrines/shrine24.jpg"
    image bg s25 = "images/backgrounds/shrines/shrine25.jpg"
    image bg s26 = "images/backgrounds/shrines/shrine26.jpg"
    image bg s27 = "images/backgrounds/shrines/shrine27.jpg"
    image bg s28 = "images/backgrounds/shrines/shrine28.jpg"
    image bg s29 = "images/backgrounds/shrines/shrine29.jpg"
    image bg s30 = "images/backgrounds/shrines/shrine30.jpg"
    image bg s31 = "images/backgrounds/shrines/shrine31.jpg"
    image bg s32 = "images/backgrounds/shrines/shrine32.jpg"
    image bg s33 = "images/backgrounds/shrines/shrine33.jpg"
    image bg s34 = "images/backgrounds/shrines/shrine34.jpg"
    image bg s35 = "images/backgrounds/shrines/shrine35.jpg"
    image bg s36 = "images/backgrounds/shrines/shrine36.jpg"
    image bg s37 = "images/backgrounds/shrines/shrine37.jpg"
    image bg s38 = "images/backgrounds/shrines/shrine38.jpg"
    image bg s39 = "images/backgrounds/shrines/shrine39.jpg"
    image bg s40 = "images/backgrounds/shrines/shrine40.jpg"
    image bg s41 = "images/backgrounds/shrines/shrine41.jpg"
    image bg s42 = "images/backgrounds/shrines/shrine42.jpg"
    image bg s43 = "images/backgrounds/shrines/shrine43.jpg"
    image bg s44 = "images/backgrounds/shrines/shrine44.jpg"
    image bg s45 = "images/backgrounds/shrines/shrine45.jpg"
    image bg s46 = "images/backgrounds/shrines/shrine46.jpg"
    image bg s47 = "images/backgrounds/shrines/shrine47.jpg"
    image bg s48 = "images/backgrounds/shrines/shrine48.jpg"
    image bg s49 = "images/backgrounds/shrines/shrine49.jpg"
    image bg s50 = "images/backgrounds/shrines/shrine50.jpg"
    image bg s51 = "images/backgrounds/shrines/shrine51.jpg"
    image bg s52 = "images/backgrounds/shrines/shrine52.jpg"
    image bg s53 = "images/backgrounds/shrines/shrine53.jpg"
    image bg s54 = "images/backgrounds/shrines/shrine54.jpg"
    image bg s55 = "images/backgrounds/shrines/shrine55.jpg"
    image bg s56 = "images/backgrounds/shrines/shrine56.jpg"
    image bg s57 = "images/backgrounds/shrines/shrine57.jpg"
    image bg s58 = "images/backgrounds/shrines/shrine58.jpg"
    image bg s59 = "images/backgrounds/shrines/shrine59.jpg"
    image bg s60 = "images/backgrounds/shrines/shrine60.jpg"
    image bg s61 = "images/backgrounds/shrines/shrine61.jpg"
    image bg s62 = "images/backgrounds/shrines/shrine62.jpg"
    image bg s63 = "images/backgrounds/shrines/shrine63.jpg"
    image bg s64 = "images/backgrounds/shrines/shrine64.jpg"
    image bg s65 = "images/backgrounds/shrines/shrine65.jpg"
    image bg s66 = "images/backgrounds/shrines/shrine66.jpg"
    image bg s67 = "images/backgrounds/shrines/shrine67.jpg"
    image bg s68 = "images/backgrounds/shrines/shrine68.jpg"
    image bg s69 = "images/backgrounds/shrines/shrine69.jpg"
    image bg s70 = "images/backgrounds/shrines/shrine70.jpg"
    image bg s71 = "images/backgrounds/shrines/shrine71.jpg"
    image bg s72 = "images/backgrounds/shrines/shrine72.jpg"
    image bg s73 = "images/backgrounds/shrines/shrine73.jpg"

    image bg xebclass = "images/backgrounds/xeb/class.jpg"
    image bg xebcorridor = "images/backgrounds/xeb/corridor.jpg"
    image bg xebdock = "images/backgrounds/xeb/dock.jpg"
    image bg xebdorm = "images/backgrounds/xeb/dorm.jpg"
    image bg xebdorm_door = "images/backgrounds/xeb/dorm_door.jpg"
    image bg xebdorm_room = "images/backgrounds/xeb/dorm_room.jpg"
    image bg xebgarden = "images/backgrounds/xeb/garden.jpg"
    image bg xebgate = "images/backgrounds/xeb/gate.jpg"
    image bg xebgrass = "images/backgrounds/xeb/grass.jpg"
    image bg xebgym = "images/backgrounds/xeb/gym.jpg"
    image bg xebkitchen = "images/backgrounds/xeb/kitchen.jpg"
    image bg xeblibrary = "images/backgrounds/xeb/library.jpg"
    image bg xebnight = "images/backgrounds/xeb/night.jpg"
    image bg xebroof = "images/backgrounds/xeb/roof.jpg"
    image bg xebtrack = "images/backgrounds/xeb/track.jpg"
    image bg xebshower = "images/backgrounds/xeb/shower.jpg"
    image bg xebstreet = "images/backgrounds/xeb/street.jpg"
    image bg xebstreet2 = "images/backgrounds/xeb/street2.jpg"
    image bg xebstreet3 = "images/backgrounds/xeb/street3.jpg"
    image bg xebstreet4 = "images/backgrounds/xeb/street4.jpg"
    image bg xebstreet5 = "images/backgrounds/xeb/street5.jpg"
    image bg xebriver = "images/backgrounds/xeb/underground_river.jpg"
    image bg xebfin = "images/backgrounds/xeb/fin.jpg"
    image bg xebcult3 = "images/backgrounds/xeb/cult3.jpg"
    image bg xebcult5 = "images/backgrounds/xeb/cult5.jpg"
    image bg xebcompound = "images/backgrounds/xeb/liberia_village2.jpg"
    image bg xebhospital = "images/backgrounds/xeb/hospital.jpg"
    image bg xebpop = "images/backgrounds/xeb/pop.jpg"
    image bg xebdesk = "images/backgrounds/xeb/desk.jpg"
    image bg xeblockers = "images/backgrounds/xeb/lockers.jpg"
    image bg xebstairs = "images/backgrounds/xeb/stairs.jpg"
    
    #==============================================================
    # CHARACTER IMAGES
    #==============================================================
    
    if persistent.artstyle is None:
        $ persistent.artstyle = 'default'
    
init python:
    # Used for declaring images that switch artstyles.
    # Takes a list of image names.
    def artstyle_switcher(list=[], bases=[]):
        artstyle_switcher2(list)
        for base in bases:
            artstyle_switcher2(list,base)
        return
    def artstyle_switcher2(list=[], base=''):
        if base:
            base = " "+base
        for item in list:
            renpy.image(item+base, ConditionSwitch(
                "renpy.image_exists(persistent.artstyle+' "+item+base+"')",DynamicDisplayable(artstyle_dynamic,item=item,base=base),
                "renpy.image_exists('default "+item+base+"')", "default "+item+base,
                "True",Placeholder('girl')
            ))
    def artstyle_dynamic(st, at, item, base):
        return persistent.artstyle+" "+item+base, None
            
    # Used for compositing and declaring many images with little effort.
    # For each item, defines 4 images. Cropped small, cropped large, full small, and full large.
    def autoComposite(basename='', base='', bases={}, dict={}, wimg=800, himg=1600, xcomp=0, ycomp=0, wcomp=200, hcomp=200, lcrop=1000, scrop=900, lscale=1.0, sscale=0.66):
        suffix=''
        #main base
        autoComposite2(**locals())
        #additional bases
        for key in bases:
            suffix = " "+key
            base = bases[key]
            autoComposite2(**locals())
        return
    def autoComposite2(basename, base, suffix, dict, wimg, himg, xcomp, ycomp, wcomp, hcomp, lcrop, scrop, lscale, sscale,*args,**kwargs):
        if basename:
            # declare baseimage
            autoComposite3(basename+suffix, base, **locals())
        for key in dict:
            # declare composite images
            if dict[key] and base:
                src=im.Composite((wimg, himg),(0,0),base,(xcomp,ycomp),dict[key])
            elif base:
                src=base
            elif dict[key]:
                src=dict[key]
            autoComposite3(key+suffix, **locals())
    def autoComposite3(name,src, wimg, lcrop, scrop, lscale, sscale,*args,**kwargs):
        #cropped
        renpy.image(name, im.FactorScale(im.Crop(src,(0,0,wimg,scrop)),sscale))
        #full image
        renpy.image(name+" full", im.FactorScale(src,sscale))
        #large cropped
        renpy.image(name+" large", im.FactorScale(im.Crop(src,(0,0,wimg,lcrop)),lscale))
        #large full
        renpy.image(name+" large full", im.FactorScale(src,lscale))
        return
    
    #Some actual image definitions
#Ebby default
    autoComposite(
    bases={'blood':"",'skull':"",'bloodskull':"",},
    dict={
    'default ebby normal':"images/sprites/EBOLA/EbbyNormal.png",
    'default ebby wink':"images/sprites/EBOLA/EbbyWink.png",
    'default ebby concerned':"images/sprites/EBOLA/EbbyConcerned.png",
    'default ebby excited':"images/sprites/EBOLA/EbbyExcited.png",
    'default ebby sad':"images/sprites/EBOLA/EbbySad.png",
    'default ebby rape':"images/sprites/EBOLA/EbbyRape.png",
    'default ebby joy':"images/sprites/EBOLA/EbbyJoy.png",
    'default ebby toastdead':"images/sprites/EBOLA/EbbyToastDead.png",
    'default ebby toastsad':"images/sprites/EBOLA/EbbyToastSad.png",
    'default ebby toastjoy':"images/sprites/EBOLA/EbbyToastJoy.png",
    }, wimg=477, himg=900, 
    lcrop=900, scrop=900,
    lscale=1.0, sscale=1.0)
#Ebby dread normal
    autoComposite('dread ebby normal', base="images/sprites/dread/EBOLA/EbbyNormal.png",
    bases={
    'blood':"images/sprites/dread/EBOLA/EbbyBlood.png",
    'skull':"images/sprites/dread/EBOLA/EbbySkull.png",
    'bloodskull':"images/sprites/dread/EBOLA/EbbySkullBlood.png",
    },
    dict={
    'dread ebby wink':"images/sprites/dread/EBOLA/EbbyWink.png",
    'dread ebby concerned':"images/sprites/dread/EBOLA/EbbyConcerned.png",
    'dread ebby excited':"images/sprites/dread/EBOLA/EbbyExcited.png",
    'dread ebby sad':"images/sprites/dread/EBOLA/EbbySad.png",
    'dread ebby rape':"images/sprites/dread/EBOLA/EbbyRape.png",
    'dread ebby joy':"images/sprites/dread/EBOLA/EbbyJoy.png",
    }, wimg=808, himg=1929, 
    xcomp=297, ycomp=188, wcomp=259, hcomp=268,
    lcrop=1060, scrop=1350)
#Ebby dread toast
    autoComposite(base="images/sprites/EBOLA/EbbyNormal.png",
    bases={
    'blood':"images/sprites/EBOLA/EbbyBlood.png",
    'skull':"images/sprites/EBOLA/EbbySkull.png",
    'bloodskull':"images/sprites/EBOLA/EbbySkullBlood.png",
    },
    dict={
    'dread ebby toastdead':"images/sprites/dread/EBOLA/EbbyToastDead.png",
    'dread ebby toastsad':"images/sprites/dread/EBOLA/EbbyToastSad.png",
    'dread ebby toastjoy':"images/sprites/dread/EBOLA/EbbyToastJoy.png",
    }, wimg=808, himg=1929, 
    xcomp=297, ycomp=188, wcomp=259, hcomp=334,
    lcrop=1060, scrop=1350)
#Ebby poneh
    autoComposite(
    bases={'blood':"",'skull':"",'bloodskull':"",},
    dict={
    'poneh ebby normal':"images/sprites/poneh/EBOLA/EbbyNormal.png",
    'poneh ebby wink':"images/sprites/poneh/EBOLA/EbbyJoy.png",
    'poneh ebby concerned':"images/sprites/poneh/EBOLA/EbbyConcerned.png",
    'poneh ebby excited':"images/sprites/poneh/EBOLA/EbbyExcited.png",
    'poneh ebby sad':"images/sprites/poneh/EBOLA/EbbyConcerned.png",
    'poneh ebby rape':"images/sprites/poneh/EBOLA/EbbyRape.png",
    'poneh ebby joy':"images/sprites/poneh/EBOLA/EbbyJoy.png",
    }, wimg=700, himg=1100, 
    lcrop=800, scrop=800,
    lscale=1.0, sscale=1.0)
#Sars default
    autoComposite(
    bases={'point':""},
    dict={
    'default sars normal':"images/sprites/SARS/SarsNotAmused.png",
    'default sars notamused':"images/sprites/SARS/SarsNotAmused.png",
    'default sars concerned':"images/sprites/SARS/SarsConcerned.png",
    'default sars grin':"images/sprites/SARS/SarsGrin.png",
    'default sars sad':"images/sprites/SARS/SarsSad.png",
    'default sars stars':"images/sprites/SARS/SarsStars.png",
    }, wimg=525, himg=600, 
    lcrop=600, scrop=600,
    lscale=1.5, sscale=1.5)
#Sars dread
    autoComposite('dread sars normal', base="images/sprites/dread/SARS/SarsNormal.png",
    bases={
    'point':"images/sprites/dread/SARS/SarsPoint.png"
    },
    dict={
    'dread sars notamused':"",
    'dread sars concerned':"images/sprites/dread/SARS/SarsConcerned.png",
    'dread sars grin':"images/sprites/dread/SARS/SarsGrin.png",
    'dread sars sad':"images/sprites/dread/SARS/SarsSad.png",
    'dread sars stars':"images/sprites/dread/SARS/SarsStars.png",
    }, wimg=751, himg=1790, 
    xcomp=241, ycomp=129, wcomp=307, hcomp=284,
    lcrop=984, scrop=1200,
    sscale=0.64)
#Ebby Switch
    artstyle_switcher([
    'ebby normal',
    'ebby wink',
    'ebby concerned',
    'ebby excited',
    'ebby sad',
    'ebby rape',
    'ebby joy',
    'ebby toastdead',
    'ebby toastsad',
    'ebby toastjoy',
    ],['blood','skull','bloodskull'])
#Sars Switch
    artstyle_switcher([
    'sars normal',
    'sars notamused',
    'ebby concerned',
    'ebby grin',
    'ebby sad',
    'ebby stars',
    ],['point'])
init:

    image mal = Placeholder("girl")
    image bp = Placeholder("girl")

    image aids concerned:
        im.FactorScale("images/sprites/AIDS/AidsConcerned.png",1.8)
    image aids excited:
        im.FactorScale("images/sprites/AIDS/AidsExcited.png",1.8)
    image aids joy:
        im.FactorScale("images/sprites/AIDS/AidsJoy.png",1.8)
    image aids normal:
        im.FactorScale("images/sprites/AIDS/AidsNormal.png",1.8)
    image aids rape:
        im.FactorScale("images/sprites/AIDS/AidsRape.png",1.8)
    image aids sad:
        im.FactorScale("images/sprites/AIDS/AidsSad.png",1.8)

    image joki angry = "images/sprites/JOKI/JokiAngry.png"
    image joki evil = "images/sprites/JOKI/JokiEvil.png"
    image joki joy = "images/sprites/JOKI/JokiJoy.png"
    image joki normal = "images/sprites/JOKI/JokiNormal.png"
    image joki sad = "images/sprites/JOKI/JokiSad.png"
    image joki scared = "images/sprites/JOKI/JokiScared.png"
    image joki smile = "images/sprites/JOKI/JokiSmile.png"
    image joki wtf = "images/sprites/JOKI/JokiWTF.png"

    image rab happy:
        im.FactorScale("images/sprites/RABIES/RabHappy.png",1.8)
    image rab normal:
        im.FactorScale("images/sprites/RABIES/RabNormal.png",1.8)
    image rab sad:
        im.FactorScale("images/sprites/RABIES/RabSad.png",1.8)
    image rab shock:
        im.FactorScale("images/sprites/RABIES/RabShock.png",1.8)
    image rab unsure:
        im.FactorScale("images/sprites/RABIES/RabUnsure.png",1.8)
    image rab violent:
        im.FactorScale("images/sprites/RABIES/RabViolent.png",1.8)
    image rab annoyed:
        im.FactorScale("images/sprites/RABIES/RabAnnoyed.png",1.8)

    image marburg annoyed = "images/sprites/MARBURG/MarburgAnnoyed.png"
    image marburg normal = "images/sprites/MARBURG/MarburgNormal.png"
    image marburg rape = "images/sprites/MARBURG/MarburgRape.png"

    image who annoyed = "images/sprites/WHO/WhoAnnoyed.png"
    image who angry = "images/sprites/WHO/WhoAngry.png"
    image who concerned = "images/sprites/WHO/WhoConcerned.png"
    image who excited = "images/sprites/WHO/WhoExcited.png"
    image who joy = "images/sprites/WHO/WhoJoy.png"
    image who kiss = "images/sprites/WHO/WhoKiss.png"
    image who normal = "images/sprites/WHO/WhoNormal.png"
    image who pantsu = "images/sprites/WHO/WhoPantsu.png"
    image who rape = "images/sprites/WHO/WhoRape.png"
    image who sad = "images/sprites/WHO/WhoSad.png"
    image who shy = "images/sprites/WHO/WhoShy.png"
    image who suprised = "images/sprites/WHO/WhoNormal.png"

    image zmapp normal = "images/sprites/ZMAPP/ZmappNormal.png"

    image vu normal = "images/sprites/VuNormal.png"
    
    image ry = "images/placeholder/ry.png"
    image sian = "images/placeholder/sian.png"
    image bsg = "images/placeholder/bsg.png"
    image nye = "images/placeholder/nye.png"
    image zmapp = "images/placeholder/zmapp.png"
    image ebbyz = "images/placeholder/ebbyz.png"
    image ebbyzch = "images/placeholder/Ebchase.png"

    #Click to continue
    image ctc = anim.Filmstrip("images/ec_c2cstrip.png", (79,40), (8,1), 0.1, xpos=1720, ypos=1020, xanchor=0, yanchor=0)

    #==============================================================
    # CHARACTER DEFINITIONS
    #==============================================================
    
    # all characters inherit from adv by default.
    define adv = Character (None, what_color="#fdb2b6", who_color="#000000", what_prefix='"', what_suffix='"', ctc="ctc", ctc_position="fixed", ctc_pause="ctc", ctc_timedpause=Null())

    # Characters can have dynamic names. Change the variable at any time to change her name.
    define ebby = Character('name_ebby', dynamic=True, image='ebby')
    $ name_ebby = 'Ebola-chan'
    define vu = Character('Vu-chan', image='vu')
    define sars = Character('Sars-chan', image='sars')
    define joki = Character('Joki-kun', image='joki')
    define mal = Character('Malaria-chan', image='mal')
    define rab = Character('Rabies-chan', image='rab')
    define bp = Character('BP-sama', image='bp')
    define who = Character('WHO-chan', image='who')
    define zmapp = Character('Zmapp-chan', image='zmapp')
    define marburg = Character('Marburg-sama', image='marburg')
    define teach = Character('Teacher')
    define aids = Character('Eidzu-chan', image='aids')
    
    # Possibly deprecated
    define ec = Character(kind=ebby)
    define vc = Character(kind=vu)
    define wc = Character(kind=who)
    define ai = Character(kind=aids)
    
    # This is the protagonist. Use this character when the protagonist speaks.
    define pr = Character('player_name', dynamic=True)
    $ player_name = 'Protag'
    
    define si = Character('Sian')
    define bsg = Character('Black Science Guy')
    define bn = Character('Bill Nye')
    define nur = Character('Giant Scary Blob Thing')
    define zma = Character('Zmapp-chan')
    define ug = Character('Unknown Girl') #deprecated. Please use dynamic names.
    
    # The narrator is used when no speaker is provided.
    define narrator = Character('', what_color="#dddddd", what_prefix='', what_suffix='')
    define centered = Character('', kind=narrator, what_style="centered_text", window_style="centered_window", ctc=None)

    define prin = Character('', kind=narrator) #deprecated. Please use narrator instead
    define nn = Character('', kind=narrator) #deprecated. Please use narrator instead
    
    #================#
    # Record keeping #
    #================#
    
    $ AidsMeet = 0
    $ AidsCount = 0
    $ AidsMetFulfilled = 0
    $ AidsProprietary  = 0
    $ AidsInvite = 0
    $ RabbiesMet = 0
    $ RabbiesCount = 0
    $ EbbyBrowniePoints = 0
    $ RabKnowsILive = 0
    
        